<!DOCTYPE html>
<html lang="en">
<head>
        <title>The Physics Virtuosi - Bohn</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="../theme/css/main.css" type="text/css" />
                <link href="http://thephysicsvirtuosi.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="The Physics Virtuosi Atom Feed" />
                
        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="../css/ie.css"/>
                <script src="../js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="../css/ie6.css"/><![endif]-->

    <script type="text/javascript"
        src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="../">The Physics Virtuosi </a></h1>
                <nav><ul>
                                                                                                    <li ><a href="../category/old.html">old</a></li>
                                </ul></nav>
        </header><!-- /#banner -->
                
            

                            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="../posts/fun-with-an-iphone-accelerometer.html">Fun with an iPhone Accelerometer</a></h1> 
                    <footer class="post-info">
        <abbr class="published" title="2011-08-03T03:24:00">
                Wed 03 August 2011
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/bohn.html">Bohn</a>
        </address>
        <p>In <a href="../category/old.html">old</a>. </p>
<p>tags: <a href="../tag/free-fall.html">free fall</a><a href="../tag/bohn.html">Bohn</a><a href="../tag/sho.html">SHO</a><a href="../tag/accelerometer.html">accelerometer</a><a href="../tag/iphone.html">iphone</a><a href="../tag/pendulum.html">pendulum</a></p>
</footer><!-- /.post-info --><p><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://2.bp.blogspot.com/-f7mSv8QGLGs/Tj9_a2qp1SI/AAAAAAAAAEY/Ax5EEw8Cjmg/s1600/accelerometer.jpg"><img style="float:left; margin:0 10px 10px 0;cursor:pointer; cursor:hand;width: 320px; height: 275px;" src="http://2.bp.blogspot.com/-f7mSv8QGLGs/Tj9_a2qp1SI/AAAAAAAAAEY/Ax5EEw8Cjmg/s320/accelerometer.jpg" border="0" alt=""id="BLOGGER_PHOTO_ID_5638365357818893602" /></a></p>
<p>The iPhone 3GS has a built-in <a href="http://pdf1.alldatasheet.com/datasheet-pdf/view/236640/STMICROELECTRONICS/LIS302DL.html">accelerometer, the LIS302DL</a>, which is primarily used for detecting device orientation.  I wanted to come up with something interesting to do with it, but first I had to see how it did on some basic tests.  It turns out that the tests gave really interesting results themselves!  A drop test gave clean results and a spring test gave fantastic data; however a pendulum test gave some problems.</p>
<p><a name='more'></a></p>
<p>You might guess the accelerometer would give a reading of 0 in all axes when the device is sitting on a desk.  However, this accelerometer measures "proper acceleration," which essentially is a measure of acceleration relative to free-fall.  So the device will read -1 in the z direction (in units where 1 corresponds to 9.8 m/s^2, the acceleration due to gravity at the surface of Earth).  </p>
<p>Armed with this knowledge, let's take a look at the drop test:</p>
<p>To perform this test, I stood on the couch which was in my office (before it was taken away from us!), and dropped my phone hopefully into the hands of my officemate.  I suspected that the device would read magnitude 1 before dropping, 0 during the drop, and a large spike for the large deceleration when the phone was caught.</p>
<p><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://2.bp.blogspot.com/-g8pt_dT0gR8/Tj9D2GTkc6I/AAAAAAAAADw/1iwHCsPixtY/s1600/DropTest.png"><img style="float:right; margin:0 0 10px 10px;cursor:pointer; cursor:hand;width: 400px; height: 273px;" src="http://2.bp.blogspot.com/-g8pt_dT0gR8/Tj9D2GTkc6I/AAAAAAAAADw/1iwHCsPixtY/s400/DropTest.png" border="0" alt=""id="BLOGGER_PHOTO_ID_5638299855175840674" /></a></p>
<p>As you can see, the results were basically as expected.  The purple line shows the magnitude of the acceleration relative to free-fall.  Before the drop, the magnitude bounces around 1, which is due to my inability to hold something steadily.  The drop occurred near time 12.6, but I wasn't able to move my hand arbitrarily quickly so there's not a sharp drop to 0 magnitude.  The phone fell for around 0.4 seconds corresponding to</p>
<p><mathjax>$$y = \frac{1}{2} g t^2 = \frac{1}{2} (9.8 \frac{m}{s^2})*(0.4 s)^2 = 0.784 m = 2.57 feet $$</mathjax></p>
<p>As for the spike at 13 seconds, the raw data shows that the catch occurs in </p>
<p><mathjax>$$ t = 0.02 \pm 0.01 s $$</mathjax>.  In order for the device to come to rest in such a short amount of time, there needs to be a large deceleration provided by my officemate's hands.</p>
<p>Now the pendulum test consisted of taping my phone to the bottom of a 20 foot pendulum.  </p>
<p><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://2.bp.blogspot.com/-7uO_824O6t4/Tj9Q1crvlUI/AAAAAAAAAD4/uO3YsrXStak/s1600/pendulum.png"><img style="display:block; margin:0px auto 10px; text-align:center;cursor:pointer; cursor:hand;width: 400px; height: 274px;" src="http://2.bp.blogspot.com/-7uO_824O6t4/Tj9Q1crvlUI/AAAAAAAAAD4/uO3YsrXStak/s400/pendulum.png" border="0" alt=""id="BLOGGER_PHOTO_ID_5638314137654105410" /></a></p>
<p>I didn't think enough about this, but the period of a pendulum, assuming we have a small amplitude, is given by:</p>
<p><mathjax>$$T = 2 \pi \sqrt{\frac{L}{g}}$$</mathjax> which is about 5 seconds.   With a relatively small amplitude, the acceleration in the x direction will be small.  Basically I'm reaching the limit of the resolution of the acceleration device.  It appears that the smallest increment the device can measure is 0.0178 g.  This happens to match the specifications from the spec sheet I linked at the top of the page, where they specify a minimum of 0.0162 g, and a typical sensitivity of 0.018 g!</p>
<p>Now we come to the most exciting test, the spring test!  Setup: I taped my phone to the end of a spring and let it go.  Ok.</p>
<p>Here is the actual acceleration data:</p>
<p><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://3.bp.blogspot.com/-3qbU9p2I3sE/Tj9a7-eOk-I/AAAAAAAAAEA/0ByUQ039dio/s1600/springdata.png"><img style="display:block; margin:0px auto 10px; text-align:center;cursor:pointer; cursor:hand;width: 400px; height: 196px;" src="http://3.bp.blogspot.com/-3qbU9p2I3sE/Tj9a7-eOk-I/AAAAAAAAAEA/0ByUQ039dio/s400/springdata.png" border="0" alt=""id="BLOGGER_PHOTO_ID_5638325244919714786" /></a></p>
<p>The first thing I see is that the oscillation frequency looks constant, as it should be for a simple harmonic oscillator.  There is also a decay which looks exponential!  Let's see how well the data fits if we have a frictional term proportional to the velocity of the phone.  This gives is a differential equation which looks like this:</p>
<p><mathjax>$$ m \ddot{x} + F\dot{x} + k x = 0 $$</mathjax></p>
<p>Now we can plug in an ansatz (educated guess) to solve this equation:</p>
<p><mathjax>$$ x(t) = A*e^{i b t} $$</mathjax></p>
<p><mathjax>$$-b^2 mx(t) + i b Fx(t) + kx(t) = 0$$</mathjax></p>
<p><mathjax>$$-m b^2+iFb+k = 0$$</mathjax></p>
<p>We can solve this equation for b with the quadratic equation:</p>
<p><mathjax>$$ b = \frac{\sqrt{4km - F^2}}{2m} + i\frac{F}{2m} \equiv \omega + i \gamma $$</mathjax></p>
<p>where I defined two new constants here.  So we see that our ansatz does solve the differential equation.  Now we want acceleration, which is the second time derivative of position with respect to time.</p>
<p><mathjax>$$a(t) \equiv \ddot{x} = -b^2 A e^{ibt} $$</mathjax></p>
<p>Now are only interested in the real part of this solution, which gives us (adding in a couple of constants to make the solution more general):</p>
<p><mathjax>$$a(t) = -(\omega^2 - \gamma^2) A e^{-\gamma t} cos(\omega t + \phi) + C $$</mathjax></p>
<p>Let's redefine the coefficient of this acceleration to make things a little cleaner!</p>
<p><mathjax>$$a(t) = B e^{-\gamma t} cos(\omega t + \phi) + C $$</mathjax></p>
<p>Ok, with that math out of the way (for now), we can try to fit this data.  I actually used Excel to fit this data using a not-so-well-known tool called Solver.  This allows you to maximize or minimize one cell while Excel varies other cells.  In this case, I defined a cell which is the <a href="http://en.wikipedia.org/wiki/Residual_sum_of_squares">Residual Sum of Squares</a> of my fit versus the actual data, and I tell Excel to vary the 5 constants which make the fit!  The values jump around for a little while then it gives up when it thinks it converged to a solution.  Using this you can fit arbitrary functions, neato!</p>
<p>With this, I come up with the following plot:</p>
<p><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://1.bp.blogspot.com/-23lXSPVOwuY/Tj9a8Curm3I/AAAAAAAAAEI/F5Fb9dxdvDs/s1600/springlineardamp.png"><img style="display:block; margin:0px auto 10px; text-align:center;cursor:pointer; cursor:hand;width: 400px; height: 196px;" src="http://1.bp.blogspot.com/-23lXSPVOwuY/Tj9a8Curm3I/AAAAAAAAAEI/F5Fb9dxdvDs/s400/springlineardamp.png" border="0" alt=""id="BLOGGER_PHOTO_ID_5638325246062467954" /></a></p>
<p><mathjax>$$B = 0.633740943$$</mathjax></p>
<p><mathjax>$$\gamma = 0.012097581 $$</mathjax></p>
<p><mathjax>$$\omega = 8.599670376 $$</mathjax></p>
<p><mathjax>$$\phi = 0.693075811 $$</mathjax></p>
<p><mathjax>$$C =-1.004454967 $$</mathjax></p>
<p>with an R^2 value of 0.968!</p>
<p>At this point it should be noted that if I discretize my smooth fit to have the same resolution (0.0178 g) as the accelerometer, then see what the error is comparing the smooth fit to its own discretization, I get an R^2 of 0.967!  This means that there is a decent amount of built-in error to these fits due to discretization on the order of the error we're seeing for our actual fits.</p>
<p>Immediately we can recognize that C should be -1, since this is just a factor relating "free-fall" acceleration to actual iPhone acceleration.  If we wanted, we could solve for the ratio of the spring constant to the mass, but I'll leave that as <a href="http://www.amazon.com/Classical-Electrodynamics-Third-David-Jackson/dp/047130932X">an exercise for the reader.  </a></p>
<p>If you look closely, you can see that the frequency appears to match very well.  The two lines don't go out of phase.  One problem with the fit is the decay.  The beginning and the end of the data are too high compared to the fit, which is a problem.  This implies that there is some other kind of friction at work.  </p>
<p>Some larger objects or faster moving objects tend to experience a frictional force proportional to the square of the velocity.  I don't think my iPhone is large or fast (compared to a plane for example), but I'll try it anyway.  </p>
<p>The differential equation is:</p>
<p><mathjax>$$ m \ddot{x} + F\dot{x}^2 + k x = 0 $$</mathjax></p>
<p>yikes.  This is a tough one because of the velocity squared term.  <a href="http://www.jstor.org/pss/3620747">One trick I found here</a> attempts a general solution for a similar equation.  They make an approximation in order to solve it, but the approximation is pretty good in our case.  Take a look at the paper if you're interested.</p>
<p>The basic idea is to note that the friction term is the only one that affects the energy.  So, assuming that the energy losses are small in a cycle, we can look at a small change in energy with respect to a small change in time due to this force term.  This gives us an equation which can let us solve for the amplitude as a function of time approximately!  Really interesting idea.  </p>
<p>So I plugged the following equation into the Excel Solver:</p>
<p><mathjax>$$a(t) = \frac{A cos(\omega t + \phi)}{\gamma t + 1} + B$$</mathjax></p>
<p>Here's the fit:</p>
<p><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://2.bp.blogspot.com/-fCXr2CkPGE4/Tj9a8pH2KFI/AAAAAAAAAEQ/XaulleF3xK4/s1600/springsqdamp.png"><img style="display:block; margin:0px auto 10px; text-align:center;cursor:pointer; cursor:hand;width: 400px; height: 196px;" src="http://2.bp.blogspot.com/-fCXr2CkPGE4/Tj9a8pH2KFI/AAAAAAAAAEQ/XaulleF3xK4/s400/springsqdamp.png" border="0" alt=""id="BLOGGER_PHOTO_ID_5638325256368564306" /></a></p>
<p>Which uses these values:</p>
<p><mathjax>$$A = 0.772773705 $$</mathjax></p>
<p><mathjax>$$\gamma = 0.029745368 $$</mathjax></p>
<p><mathjax>$$\omega = 8.600177692 $$</mathjax></p>
<p><mathjax>$$\phi = 0.688610161 $$</mathjax></p>
<p><mathjax>$$B = -1.004530009 $$</mathjax></p>
<p>with an R^2 value of 0.964!  </p>
<p>This fit seems to have the opposite effect.  The middle of the data is too high compared to the fit, while the beginning and end of the data seems too low.  This makes me think that the actual friction terms involved in this problem are possibly a sum of a linear term and a squared term.  I don't know how to make progress on that differential equation, so I wasn't able to fit anything.  If you try the same trick I mentioned earlier, you run into a problem where you can't separate some variables which you need to separate in the derivation unfortunately.</p>
<p>So there you have it, I wanted to find something neat to do, and I got really cool data from just testing the accelerometer.  </p>
<p>Stay tuned for an interesting challenge involving some physical data from my accelerometer!</p><p>There are <a href="../posts/fun-with-an-iphone-accelerometer.html#disqus_thread">comments</a>.</p>                </article>
                            </aside><!-- /#featured -->
                            <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">
                                                

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../posts/physics-in-sports-the-fosbury-flop.html" rel="bookmark"
                           title="Permalink to Physics in Sports: The Fosbury Flop">Physics in Sports: The Fosbury Flop</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2011-08-01T01:30:00">
                Mon 01 August 2011
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/bohn.html">Bohn</a>
        </address>
        <p>In <a href="../category/old.html">old</a>. </p>
<p>tags: <a href="../tag/bohn.html">Bohn</a><a href="../tag/sports.html">sports</a><a href="../tag/high-jump.html">high jump</a><a href="../tag/fosbury-flop.html">Fosbury flop</a><a href="../tag/physics-in-sports.html">physics in sports</a></p>
</footer><!-- /.post-info -->                <p><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://1.bp.blogspot.com/-slmXXaMCcMI/TjXnJ3qe-kI/AAAAAAAAADI/PdIuocXmC5w/s1600/Fosbury.jpg"><img style="float:left; margin:0 10px 10px 0;cursor:pointer; cursor:hand;width: 216px; height: 154px;" src="http://1.bp.blogspot.com/-slmXXaMCcMI/TjXnJ3qe-kI/AAAAAAAAADI/PdIuocXmC5w/s320/Fosbury.jpg" border="0" alt=""id="BLOGGER_PHOTO_ID_5635664665471023682" /></a>Physics has greatly influenced the progress of most sports.  There have been continual improvements in equipment for safety or performance as well as improvements in technique.  I'd like to talk about some physics in sports over a series of posts.  Here I'll talk about a technique improvement in ...</p>
                <a class="readmore" href="../posts/physics-in-sports-the-fosbury-flop.html">read more</a>
                <p>There are <a href="../posts/physics-in-sports-the-fosbury-flop.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../posts/fun-fact-lebron-james-plays-basketball.html" rel="bookmark"
                           title="Permalink to Fun Fact: Lebron James Plays Basketball">Fun Fact: Lebron James Plays Basketball</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2011-02-07T12:37:00">
                Mon 07 February 2011
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/bohn.html">Bohn</a>
        </address>
        <p>In <a href="../category/old.html">old</a>. </p>
<p>tags: <a href="../tag/statistics.html">statistics</a><a href="../tag/basketball.html">basketball</a><a href="../tag/bohn.html">Bohn</a><a href="../tag/lebron-james.html">lebron james</a></p>
</footer><!-- /.post-info -->                <p><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://turbo.inquisitr.com/wp-content/2010/07/lebron-james.jpg"><img style="float: left; margin: 0pt 10px 10px 0pt; cursor: pointer; width: 332px; height: 329px;" src="http://turbo.inquisitr.com/wp-content/2010/07/lebron-james.jpg" alt="" border="0" /></a></p>
<p>Between building airplanes and playfully destroying everyone else in my apartment at Super Smash Brothers, my roommate Nathan brought up an interesting recent fact about LeBron James.  He told me that LeBron scored 11 consecutive field goals (not in football... you know who you are) in one game.  Apparently this ...</p>
                <a class="readmore" href="../posts/fun-fact-lebron-james-plays-basketball.html">read more</a>
                <p>There are <a href="../posts/fun-fact-lebron-james-plays-basketball.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../posts/breaking-intuition.html" rel="bookmark"
                           title="Permalink to Breaking Intuition">Breaking Intuition</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2010-09-19T16:52:00">
                Sun 19 September 2010
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/bohn.html">Bohn</a>
        </address>
        <p>In <a href="../category/old.html">old</a>. </p>
<p>tags: <a href="../tag/nontransitive.html">nontransitive</a><a href="../tag/bohn.html">Bohn</a><a href="../tag/intuition.html">intuition</a><a href="../tag/dice.html">dice</a><a href="../tag/witchcraft.html">witchcraft</a><a href="../tag/logic.html">logic</a></p>
</footer><!-- /.post-info -->                <p><span style="font-size: 11pt; font-family: Arial; color: rgb(0, 0, 0); background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline;" id="internal-source-marker_0.5041676977831298"></span><span style="font-size: 11pt; font-family: Arial; color: rgb(0, 0, 0); background-color: transparent; font-weight: normal; font-style: normal; text-decoration: none; vertical-align: baseline;">When  I walked into my first day of physics class in high school, I carried  with me a set of ideas which I learned from simply observing and  interacting with the world.  In fact everyone builds up what they  believe to be intuitive concepts, whether it be in science, math ...</span></p>
                <a class="readmore" href="../posts/breaking-intuition.html">read more</a>
                <p>There are <a href="../posts/breaking-intuition.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
                            </ol><!-- /#posts-list -->
                            <p class="paginator">
        Page 1 / 1
    </p>
                        </section><!-- /#content -->
                    <section id="extras" class="body">
                        <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                                                    <li><a href="http://scienceblogs.com/builtonfacts/">Built on Facts</a></li>
                                                    <li><a href="http://scienceblogs.com/principles/">Uncertain Principles</a></li>
                                                    <li><a href="http://www.wired.com/wiredscience/">Dot Physics</a></li>
                                                    <li><a href="http://blogs.scienceforums.net/swansont/">Swans on Tea</a></li>
                                                </ul>
                </div><!-- /.blogroll -->
                                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://thephysicsvirtuosi.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>
                            
                                                    <li><a href="https://twitter.com/thevirtuosi">twitter</a></li>
                                                    <li><a href="https://www.facebook.com/thevirtuosi">facebook</a></li>
                                                </ul>
                </div><!-- /.social -->
                </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-15719155-6']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'thephysicsvirtuosi';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>